(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){module.exports=function adaptIdentity(formData){return formData}},{}],2:[function(require,module,exports){module.exports=function adaptSurvey(formData){return formData}},{}],3:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,Button=require("./Button.jsx"),classnames=require("classnames"),Question;module.exports=Question=React.createClass({displayName:"Question",render:function(){var style={width:1/this.props.answers.length*100+"%"};var className=classnames("answer","center-group",this.props.className,"answers-"+this.props.answers.length);return React.createElement("div",{className:className},React.createElement("ul",{className:"choices middle"},this.props.answers.map(function(answer,idx){return React.createElement("li",{key:idx,style:style},React.createElement(Button,{className:classnames({"not-selected":this.props.selected!==undefined&&answer!==this.props.selected,selected:answer===this.props.selected}),action:this.props.action.bind(null,answer)},idx+1))}.bind(this))),React.createElement("span",{className:"left"},React.createElement("span",{className:"reminder low"},"Very",React.createElement("br",null),"Inaccurate")),React.createElement("span",{className:"right"},React.createElement("span",{className:"reminder high"},"Very",React.createElement("br",null),"Accurate")))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./Button.jsx":7,classnames:61}],4:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,Router=typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null,DefaultRoute=Router.DefaultRoute,NotFoundRoute=Router.NotFoundRoute,Route=Router.Route,api=require("../services/api"),guide=require("../services/guide");var Home=require("./Home.jsx"),Identity=require("./Identity.jsx"),Survey=require("./Survey.jsx"),Section=require("./Section.jsx"),Consent=require("./Consent.jsx"),ProfileWrap=require("./ProfileWrap.jsx"),Profile=require("./Profile.jsx"),Intro=require("./Intro.jsx"),NotFound=require("./NotFound.jsx"),BrainType=Section.BrainType,Personality=Section.Personality,GamerType=Section.GamerType;var routes=React.createElement(Route,{name:"home",path:"/",handler:Home},React.createElement(Route,{name:"consent",path:"consent",handler:Consent}),React.createElement(Route,{name:"identity",path:"identity",handler:Identity}),React.createElement(Route,{name:"survey",handler:Survey},React.createElement(Route,{name:"brain",path:"brain-type",handler:BrainType}),React.createElement(Route,{name:"personality",path:"personality",handler:Personality}),React.createElement(Route,{name:"gamer-type",path:"gamer-type",handler:GamerType})),React.createElement(Route,{name:"results",handler:ProfileWrap},React.createElement(Route,{name:"profile",path:":profile?",handler:Profile}),React.createElement(DefaultRoute,{handler:NotFound})),React.createElement(DefaultRoute,{name:"intro",handler:Intro}),React.createElement(NotFoundRoute,{name:"not-found",handler:NotFound}));module.exports=function(config){api.config(config);guide.config(config);var cb=function(Handler,state){React.render(React.createElement(Handler,{params:state.params}),document.body)};if(config.usePushState){Router.run(routes,Router.HistoryLocation,cb)}else{Router.run(routes,cb)}}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../services/api":46,"../services/guide":48,"./Consent.jsx":8,"./Home.jsx":19,"./Identity.jsx":20,"./Intro.jsx":22,"./NotFound.jsx":25,"./Profile.jsx":26,"./ProfileWrap.jsx":27,"./Section.jsx":31,"./Survey.jsx":34}],5:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var classnames=require("classnames");var resize=require("../services/resize");var assign=require("object-assign");var CHANGE="change";var MULTIPLY=15;var CELL_W=MULTIPLY*16;var CELL_H=MULTIPLY*9;var IMG_W=1920;var IMG_H=1080;var FRAME_INTERVAL=90;var ANIMATION_INTERVAL=200;var raf=require("raf");var animators=require("../services/animator");module.exports=React.createClass({displayName:"Background",getDefaultProps:function(){return{renderCell:animators.random}},getInitialState:function(){return assign({time:0},this.getCells())},componentDidMount:function(){resize.onChange(this.resize);this.startAnimation()},componentWillUnmount:function(){resize.offChange(this.resize);this.stopAnimation()},resize:function(width,height){this.setState(this.getCells(width,height))},startAnimation:function(){this.timer=setInterval(this.nextFrame,300)},stopAnimation:function(){clearInterval(this.timer)},nextFrame:function(){raf(function(){this.setState({time:this.state.time+1})}.bind(this))},getCells:function(width,height){width=width||resize.getWidth();height=height||resize.getHeight();var x=Math.floor(width/CELL_W)+1;var y=Math.floor(height/CELL_H)+1;var backW=x*CELL_W;var backH=y*CELL_H;var cells=[];var iy,ix;for(iy=0;iy<y;iy+=1){cells.push([]);for(ix=0;ix<x;ix+=1){cells[iy].push({x:ix,y:iy})}}var img=this.fitImage(backW,backH);return{cells:cells,shiftX:(width-backW)/2,shiftY:(height-backH)/2,width:backW,height:backH,imageX:(backW-img.w)/2,imageY:(backH-img.h)/2,imageW:img.w,imageH:img.h}},fitImage:function(back_W,back_H){var back_R=back_W/back_H;var IMG_R=IMG_W/IMG_H;if(back_R>IMG_R){return{w:back_W,h:back_W/IMG_R}}else{return{w:back_H*IMG_R,h:back_H}}},makeCells:function(){var rowStyle={height:100/this.state.cells.length+"%"};var getCellStyle=this.getCellStyle;var grid={x:this.state.cells[0].length,y:this.state.cells.length};return this.state.cells.map(function(row,rowIdx){return React.createElement("div",{key:rowIdx,className:"cell-row",style:rowStyle},row.map(function(cell,colIdx){return React.createElement("div",{key:colIdx,className:"cell",style:getCellStyle(grid,cell)})}))})},componentWillMount:function(){this.setState({render:this.props.renderCell()})},getCellStyle:function(grid,cell){var col=cell.x;var row=cell.y;var cellX=col*-CELL_W+this.state.imageX;var cellY=row*-CELL_H+this.state.imageY;var cellStyle=assign({backgroundPosition:cellX+"px "+cellY+"px",backgroundSize:this.state.imageW+"px "+this.state.imageH+"px",width:100/this.state.cells[0].length+"%"},this.state.render(grid,cell,this.state.time));return cellStyle},render:function(){var backStyle={left:this.state.shiftX,right:this.state.shiftX,top:this.state.shiftY,bottom:this.state.shiftY,border:"1px solid red"};return React.createElement("div",{className:classnames(this.props.className)},React.createElement("div",{className:"background",style:backStyle},this.makeCells()),React.createElement("div",{className:"foreground"},this.props.children))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../services/animator":44,"../services/resize":51,classnames:61,"object-assign":67,raf:68}],6:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;module.exports=React.createClass({displayName:"BrainChart",componentDidMount:function(){var wrapper=d3.select(React.findDOMNode(this));var tooltip=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);var margin={top:10,right:10,bottom:25,left:25},width=225-margin.left-margin.right,height=225-margin.top-margin.bottom;var x=d3.scale.linear().range([width,0]);var y=d3.scale.linear().range([height,0]);var xAxis=d3.svg.axis().scale(x).orient("bottom");var yAxis=d3.svg.axis().scale(y).orient("left");var svg=wrapper.append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");var defs=svg.append("defs");defs.append("pattern").attr("id","diagonalHatch").attr("patternUnits","userSpaceOnUse").attr("width",6).attr("height",4).append("path").attr("d","M0,4 l0,-4").attr("stroke","#fff").attr("stroke-width",2);defs.append("defs").append("pattern").attr("id","horizontalHatch").attr("patternUnits","userSpaceOnUse").attr("width",4).attr("height",6).append("path").attr("d","M4,0 l-4,-0").attr("stroke","#fff").attr("stroke-width",2);x.domain([100,0]);y.domain([0,100]);function makeLine(threshold){var line=d3.svg.line().x(function(d){return x(d.x)}).y(function(d){return y(d.y)});points=[{x:0,y:threshold},{x:100,y:threshold+100}];svg.append("path").datum(points).attr("class","line").attr("d",line)}function makeArea(upper,lower,opacity,className){className=className||"up";function getPoint(x){return{x:x,y:x+upper}}var area=d3.svg.area().x(function(d){return x(d.x)}).y1(function(d){return y(d.y)}).y0(function(d){return y(d.y-(upper-lower))});points=[getPoint(0),getPoint(100)];svg.append("path").datum(points).attr("class","area "+className).style("fill-opacity",opacity).attr("d",area)}makeArea(100*2/3,100,.3);makeArea(100/3,100*2/3,.2);makeArea(-100*2/3,-100/3,.2,"right");makeArea(-100,-100*2/3,.3,"right");makeLine(100/3);makeLine(100*2/3);makeLine(-100/3);makeLine(-100*2/3);svg.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(xAxis).append("text").attr("class","axis-label").attr("x",width/2).attr("y",18).style("text-anchor","middle").text("Systemizing");svg.append("g").attr("class","y axis").call(yAxis).append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("y",-18).attr("dy",".5em").attr("dx","-4.71em").style("text-anchor","end").text("Empathizing");var dots=svg.selectAll(".dot").data([{x:23,y:78}]);dots.enter().append("circle").attr("class","dot").attr("r",1.5).attr("cx",function(d){return x(d.x)}).attr("cy",function(d){return y(d.y)});dots.enter().append("circle").attr("class","outer-dot").attr("r",6).attr("cx",function(d){return x(d.x)}).attr("cy",function(d){return y(d.y)}).on("mouseover",function(d){console.log("heee");tooltip.transition().duration(200).style("opacity",.9);tooltip.html("hello").style("left",d3.event.pageX+5+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(d){tooltip.transition().duration(500).style("opacity",0)})},render:function(){return React.createElement("div",{className:"brain-chart-wrap"})}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],7:[function(require,module,exports){(function(process,global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var classnames=require("classnames");var touchdown=require("../services/touchdown");module.exports=React.createClass({displayName:"Button",getInitialState:function(){return{mounted:false}},setMount:function(){this.setState({mounted:true})},componentDidMount:function(){process.nextTick(this.setMount)},_handleClick:function(){if(this.props.action){this.setState({depressed:false});this.props.action()}},_handleDown:function(){this.setState({depressed:true})},render:function(){var className=classnames("button",this.props.className,{mounted:this.state.mounted,depressed:this.state.depressed,"no-touch":!!!("ontouchstart"in window)});return React.createElement("div",React.__spread({className:className},touchdown(this._handleDown,this._handleClick)),this.props.children)}})}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../services/touchdown":54,_process:60,classnames:61}],8:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,Router=typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null,Navigation=Router.Navigation,Form=require("./Form.jsx"),FormSubmit=require("./FormSubmit.jsx"),Title=require("./Title.jsx"),classnames=require("classnames"),Checkbox=require("./FormCheckbox.jsx"),InputStore=require("../input/store"),FORM_ID="consent",Grid=require("./Grid.jsx"),Consent;var errorSvc=require("../services/error");module.exports=Consent=React.createClass({displayName:"Consent",mixins:[Navigation],getInitialState:function(){return{consent:InputStore.getForm(FORM_ID).hasConsented,valid:true}},_toggleConsent:function(checked){var newState={};newState.consent=checked;if(checked){newState.valid=true}this.setState(newState)},_submitConsent:function(form){if(form.hasConsented){this.transitionTo("identity")}else{errorSvc.create({title:"Sorry",message:"The survey is only open to participants who consent to the conditions stated above."})}},render:function(){return React.createElement(Grid,null,React.createElement("div",{className:"consent-form"},React.createElement("div",{className:"preamble intro"},React.createElement("p",{className:"speaking"},React.createElement("em",null,"We're serious about the quality of our research, so here is a serious consent form.")),React.createElement("p",null,"We want this research to be as good as it can be, and a good research project starts with treating you and your data professionally. This Informed Consent puts all the facts on the table. Give it a good read and let's continue on to the fun stuff!")),React.createElement("div",{className:"terms"},React.createElement("h6",null,"Informed Consent"),React.createElement("p",null,"For the purpose of our research we will ask you for your age, gender, nationality, level of English comprehension (demographic data) and to complete some psychometric tests. We will also ask for your player name in one or more of the participating games: League of Legends, Battlefield: Hardline, Battlefield 4, and World of Warcraft. Your player name will be used by the game company (Riot Games, Electronic Arts Inc.) producing the relevant game to extract data on your game behavior for the relevant game and to share such game behavior data with MIT Media Lab (MIT) and Tilburg University (UvT) for research purposes only."),React.createElement("p",null,"The game behavior data consists of information on when you play and for how long, your levels and game modes played, what actions you perform in the game, your score/rank, and details of any items you have unlocked in game. We will not be given access to any other data from the games or ask you for any sensitive data (such as, without limitation, financial data, chat logs and transcriptions, etc.)."),React.createElement("p",null,"By agreeing to participate in this research study, you understand and agree that the relevant game company (Riot Games, Electronic Arts Inc.) will share your game behavior data listed above with MIT and UvT. Data for World of Warcraft will be drawn from the publicly accessible Armory website (i.e. will not be shared by Blizzard). If you are a minor (below 18 years of age), then you are not eligible to participate in the research. You can fill out the tests to see your results but your data will not become part of the research and will be deleted.  The relevant games company will not share any data about minors with UvT and MIT."),React.createElement("p",null,"All your data will be kept confidential according to all applicable privacy and security laws and regulations."),React.createElement("p",null,"By submitting your data on this website, you give permission to MIT and UvT to analyze your data for academic research purposes. You also give us permission to share the results of our research and (aggregated) anonymous data back to the relevant game company that we received the data from (i.e. Riot Games, Electronic Arts Inc., as applicable) for their further research and game design purposes. No one outside these organizations will gain access to your personal data. Any and all publications that result from this research will report on the data in terms of anonymous groups (aggregate). We will not publish or report on individuals in any manner. We will use the data to advance science and make video games more fun."),React.createElement("p",null,"As commented above – your privacy is important to us. MIT and UvT will delete participants’ player names at the end of the study. Only anonymized and aggregated data will be kept after the end of the study for further research and game design purposes as explained above."),React.createElement("p",null,"We want to remind you that participation in this study is voluntary. You may decline to answer any or all questions. There are no negative consequences to you if you decide not to participate in this study.")),React.createElement(Form,{id:FORM_ID,className:"consent-footer"},React.createElement("div",{className:"consent-ok"},React.createElement(Checkbox,{id:"hasConsented",action:this._toggleConsent},"I declare that I understand the conditions of the research explained above, and I agree to my game behavior data being shared by the relevant games company with MIT and UvT, and my demographics and psychometric data being shared and processed by the relevant games company, MIT, and UvT as described above.")),React.createElement(FormSubmit,{action:this._submitConsent,className:classnames({inactive:!this.state.consent})},"Continue"))))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../input/store":42,"../services/error":47,"./Form.jsx":12,"./FormCheckbox.jsx":13,"./FormSubmit.jsx":17,"./Grid.jsx":18,"./Title.jsx":35,classnames:61}],9:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var CSSTransitionGroup=React.addons.CSSTransitionGroup;var errorSvc=require("../services/error");var touchdown=require("../services/touchdown");module.exports=React.createClass({displayName:"Error",getInitialState:function(){return{error:null}},componentDidMount:function(){errorSvc.onCreate(this.open);errorSvc.onDismiss(this.close)},componentWillUnmount:function(){errorSvc.offCreate(this.open);errorSvc.offDismiss(this.close)},open:function(config){this.setState({error:config})},close:function(){this.setState({error:null})},render:function(){var child=React.createElement("div",null);if(this.state.error){child=React.createElement("div",{key:"message",className:"gamr-error-wrap"},React.createElement("div",React.__spread({className:"gamr-error"},touchdown(errorSvc.dismiss)),React.createElement("h4",null,this.state.error.title),React.createElement("p",null,this.state.error.message),React.createElement("span",{className:"gamr-error-dismiss fa fa-times"})))}return React.createElement(CSSTransitionGroup,{transitionName:"err-fade"},child)}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../services/error":47,"../services/touchdown":54}],10:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var Link=(typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null).Link;var Button=require("./Button.jsx");var Video=require("./Video.jsx");module.exports=React.createClass({displayName:"Explainer",render:function(){return React.createElement("div",{className:"intro-body"},React.createElement("div",{className:"intro-body-inner"},React.createElement("div",{className:"loud-text"},React.createElement("h4",null,"Does the way you play reflect who you are?"),React.createElement("h5",null,"Maverick. Something. Leeroy Jenkins. ",React.createElement("br",null),"Discover your personality, your brain type, and your gamer type in 15 minutes.")),React.createElement(Video,null),React.createElement("p",null,"The Playful Systems group at ",React.createElement("strong",null,"MIT Media Lab")," has teamed up with ",React.createElement("strong",null,"Tilburg University")," to study how our game behavior relates to how we are in real life."),React.createElement("p",null,"Tell us a little about who you are and how you play, and we will show you ",React.createElement("strong",null,"your GAMR profile"),": a custom report on your personality, brain type and gamer type."),React.createElement("div",{className:"valid-games"},React.createElement("em",null,"If you play one or more of the following, you may be elligible!"),React.createElement("p",{className:"game-title"},"League of Legends"),React.createElement("p",{className:"game-title"},"Battlefield: Hardline"),React.createElement("p",{className:"game-title"},"Battlefield 4"),React.createElement("p",{className:"game-title"},"World of Warcraft")),React.createElement(Link,{className:"start-button",to:"consent"},React.createElement(Button,null,"Start")),React.createElement("h6",{className:"footnote"},"The survey takes approximately 15 minutes."),React.createElement("div",{className:"intro-foot"},React.createElement("div",{className:"intro-social"},React.createElement("i",{className:"fa fa-twitter"}),React.createElement("i",{className:"fa fa-facebook-official"})),React.createElement("div",{className:"intro-about"},"About us"))))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./Button.jsx":7,"./Video.jsx":37}],11:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var Button=require("./Button.jsx");module.exports=React.createClass({displayName:"FacebookButton",propTypes:{text:React.PropTypes.string,hashtags:React.PropTypes.array},getDefaultProps:function(){return{hashtags:["projectgamr"]}},openShare:function(){console.log(FB);FB.ui({method:"feed",link:window.location.href,name:"PROJECT GAMR",caption:this.props.text,picture:"http://40.media.tumblr.com/90954c2a102ae919d0142cfdea9dbadf/tumblr_nr58a1W2ZE1tduv00o1_1280.jpg",description:"Check out the results from..."},function(response){})},render:function(){return React.createElement(Button,{action:this.openShare},React.createElement("span",{className:"fa fa-facebook"})," Share")}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./Button.jsx":7}],12:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,InputStore=require("../input/store"),InputActions=require("../input/actions"),classnames=require("classnames"),Form;module.exports=Form=React.createClass({displayName:"Form",getInitialState:function(){InputActions.createForm(this.props.id);return{formData:InputStore.getForm(this.props.id)}},componentDidMount:function(){InputStore.on(this.props.id,this._handleChange);InputStore.on(this.props.id+"submit",this._handleSubmit)},componentWillUnmount:function(){InputStore.removeListener(this.props.id,this._handleChange);InputStore.removeListener(this.props.id+"submit",this._handleSubmit)},_handleChange:function(){var data=InputStore.getForm(this.props.id);if(this.props.onChange)this.props.onChange(data);this.setState({formData:data})},_handleSubmit:function(){var data=InputStore.getForm(this.props.id);if(this.props.onSubmit)this.props.onSubmit(data)},render:function(){var formId=this.props.id;var fields=function replace(children){return React.Children.map(children,function(child){if(!React.isValidElement(child)){return child}else{return React.cloneElement(child,{formId:formId,children:replace(child.props.children)})}})}(this.props.children);return React.createElement("form",{className:classnames("gamr-form",this.props.className)},fields)}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../input/actions":40,"../input/store":42,classnames:61}],13:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var classnames=require("classnames");var InputStore=require("../input/store");var InputActions=require("../input/actions");var touchdown=require("../services/touchdown");module.exports=React.createClass({displayName:"FormCheckbox",getInitialState:function(){return{checked:this.props.formId?InputStore.getForm(this.props.formId)[this.props.id]:this.props.checked}},getDefaultProps:function(){return{checked:false,action:function(){}}},_handleClick:function(){var checked=!this.state.checked;if(this.props.formId){InputActions.updateField(this.props.formId,this.props.id,checked)}this.props.action(checked);this.setState({checked:checked})},render:function(){return React.createElement("div",React.__spread({className:"checkbox-wrap"},touchdown(this._handleClick)),React.createElement("div",{className:classnames(this.props.className,"checkbox",{checked:this.state.checked})}),React.createElement("label",null,this.props.children))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../input/actions":40,"../input/store":42,"../services/touchdown":54,classnames:61}],14:[function(require,module,exports){var InputActions=require("../input/actions"),InputStore=require("../input/store");module.exports={getInitialState:function(){InputActions.setField(this.props.formId,this.props.id,this.props.defaultValue);return this._getState()},componentDidMount:function(){InputStore.on(this.props.formId,this._handleChange)},componentWillUnmount:function(){InputStore.removeListener(this.props.formId,this._handleChange)},_update:function(event){InputActions.updateField(this.props.formId,this.props.id,event.target.value)},_handleChange:function(){this.setState(this._getState())},_getState:function(){var value=InputStore.getField(this.props.formId,this.props.id);var valid=typeof this.props.validate==="function"?this.props.validate(value,this.props.id):true;return{value:value,valid:valid}}}},{"../input/actions":40,"../input/store":42}],15:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,classnames=require("classnames"),FormField=require("./FormField.jsx"),Select;module.exports=Select=React.createClass({displayName:"Select",mixins:[FormField],propTypes:{formId:React.PropTypes.string,validate:React.PropTypes.func},getDefaultProps:function(){return{required:true,defaultValue:null}},render:function(){return React.createElement("div",{className:classnames(this.props.className,"gamr-field gamr-input",{invalid:!this.state.valid})},React.createElement("input",{value:this.state.value,placeholder:this.props.label,onChange:this._update}))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./FormField.jsx":14,classnames:61}],16:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,classnames=require("classnames"),FormField=require("./FormField.jsx"),Select;module.exports=Select=React.createClass({displayName:"Select",mixins:[FormField],propTypes:{formId:React.PropTypes.string,options:React.PropTypes.oneOfType([React.PropTypes.object,React.PropTypes.array]).isRequired,validate:React.PropTypes.func},getDefaultProps:function(){return{defaultValue:null}},render:function(){var options;var optionsData={};if(Array.isArray(this.props.options)){options=this.props.options.map(function(v,idx){optionsData[v.value]=v.label;return React.createElement("option",{value:v.value,key:idx},v.label)})}else{optionsData=this.props.options;options=Object.keys(optionsData).map(function(key,idx){return React.createElement("option",{value:key,key:idx},optionsData[key])})}return React.createElement("div",{className:classnames(this.props.className,"gamr-field gamr-select",{invalid:!this.state.valid,"has-value":this.state.value})},React.createElement("span",{className:"select-cover"},optionsData[this.state.value]||this.props.label),React.createElement("select",{value:this.state.value,onChange:this._update},React.createElement("option",{value:""},this.props.label),options))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./FormField.jsx":14,classnames:61}],17:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var InputStore=require("../input/store");var InputActions=require("../input/actions");var Button=require("./Button.jsx");module.exports=React.createClass({displayName:"FormSubmit",getDefaultProps:function(){return{action:function(){}}},render:function(){return React.createElement(Button,{className:this.props.className,action:function(){InputActions.submit(this.props.formId);if(this.props.action)this.props.action(InputStore.getForm(this.props.formId))}.bind(this)},this.props.children)}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../input/actions":40,"../input/store":42,"./Button.jsx":7}],18:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;module.exports=React.createClass({displayName:"Grid",render:function(){return React.createElement("div",{className:"page"},React.createElement("div",{className:"outer"},this.props.children))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],19:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var Router=typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null;var RouteHandler=Router.RouteHandler;var State=Router.State;var Nav=require("./Nav.jsx");var classnames=require("classnames");var ErrorComponent=require("./Error.jsx");module.exports=React.createClass({displayName:"Home",mixins:[State],render:function(){var className=classnames("app",{root:this.getPath()==="/","touch-enabled":!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0});return React.createElement("div",{className:className},React.createElement(Nav,null),React.createElement(RouteHandler,React.__spread({},this.props)),React.createElement(ErrorComponent,null))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./Error.jsx":9,"./Nav.jsx":24,classnames:61}],20:[function(require,module,exports){(function(global){var api=require("../services/api");var Grid=require("./Grid.jsx");var Form=require("./Form.jsx");var Link=(typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null).Link;var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var guide=require("../services/guide");var Button=require("./Button.jsx");var Loading=require("./Loading.jsx");var errorSvc=require("../services/error");var FormInput=require("./FormInput.jsx");var classnames=require("classnames");var FormSelect=require("./FormSelect.jsx");var FormSubmit=require("./FormSubmit.jsx");var InputStore=require("../input/store");
var Background=require("./Background.jsx");var getFormErrors=require("../validators/identity");var IdentityResults=require("./IdentityResults.jsx");var FORM_ID="identity";var errors={notFound:{title:"Sorry",message:"We could not find any of your profiles"},reserved:{title:"Sorry",message:"It looks like this profile has been used before"},"default":{title:"Sorry",message:"Something went wrong"},invalid:{title:"Sorry",message:"You must complete all required fields"}};module.exports=React.createClass({displayName:"Identity",getInitialState:function(){return{profileResults:null,attempts:0}},submitProfiles:function(form){if(this.state.loading)return;var formErrors=getFormErrors(form);if(formErrors.invalidFields.length>0||formErrors.invalidGamerProfiles.length===4){this.setState({submitted:true,formErrors:formErrors});return this.displayUserError("invalid")}this.setState({loading:true});api.getUser(form,function(err,results){if(err)return this.displayUserError(err);this.setState({profileResults:results,loading:false})}.bind(this))},handleChange:function(form){this.setState({formErrors:getFormErrors(form)})},displayUserError:function(err){this.setState({loading:false});var errConfig=errors[err]||errors.default;errorSvc.create(errConfig)},reset:function(e){e.preventDefault();this.setState({profileResults:null})},confirm:function(){this.setState({confirmed:true})},render:function(){if(this.state.confirmed){return React.createElement(Background,null,React.createElement("div",{className:"up-next"},React.createElement("h6",null,"Identity: ",React.createElement("em",null,"Complete")),React.createElement("div",{className:"up-next-title"},React.createElement("strong",null,"up next..."),React.createElement("h5",null,"Brain Type")),React.createElement(Link,{to:"brain"},React.createElement(Button,null,"Begin"))))}else if(this.state.profileResults){return React.createElement(Grid,null,React.createElement(IdentityResults,{results:this.state.profileResults,reset:this.reset,confirm:this.confirm}))}var games=InputStore.getForm("games");var WOW=guide.identity.WOW;var LOL=guide.identity.LOL;var BFHD=guide.identity.BFHD;var BF4=guide.identity.BF4;var BIO=guide.identity.BIO;var LANG=guide.identity.LANG;var formBlocks=[];var range=BIO.fields.year.range,years=[],y;for(y=range[0];y>=range[1];y-=1){years.push({label:y,value:y})}var invalidFields=this.state.formErrors&&this.state.formErrors.invalidFields;var submitted=this.state.submitted;function validateField(field){return submitted?classnames({invalid:invalidFields.indexOf(field)!==-1}):true}var background=React.createElement("div",null,React.createElement("div",{className:"form-block"},React.createElement("h2",null,BIO.title),React.createElement(FormSelect,React.__spread({},BIO.fields.gender,{className:validateField("gender")})),React.createElement(FormSelect,React.__spread({},BIO.fields.year,{options:years,className:validateField("birth_year")})),React.createElement(FormSelect,React.__spread({},BIO.fields.month,{className:validateField("birth_month")}))),React.createElement("div",{className:"form-block"},React.createElement("h2",null,LANG.title),React.createElement(FormSelect,React.__spread({},LANG.fields.country,{className:validateField("country")})),React.createElement(FormSelect,React.__spread({},LANG.fields.level,{className:validateField("english_lvl")}))));if(games.LOL||true){formBlocks.push(React.createElement("div",{className:"form-block",key:"a"},React.createElement("h2",null,LOL.title),React.createElement(FormInput,React.__spread({},LOL.fields.summonerName)),React.createElement(FormSelect,React.__spread({},LOL.fields.region)),React.createElement(FormSelect,React.__spread({},LOL.fields.preferredLane)),React.createElement(FormSelect,React.__spread({},LOL.fields.preferredRole))))}if(games.WOW||true){formBlocks.push(React.createElement("div",{className:"form-block",key:"b"},React.createElement("h2",null,WOW.title),React.createElement(FormInput,React.__spread({},WOW.fields.characterName)),React.createElement(FormSelect,React.__spread({},WOW.fields.region)),React.createElement(FormSelect,React.__spread({},WOW.fields.realm))))}if(games.BFHD||true){formBlocks.push(React.createElement("div",{className:"form-block",key:"c"},React.createElement("h2",null,BFHD.title),React.createElement(FormInput,React.__spread({},BFHD.fields.playerName))))}if(games.BF4||true){formBlocks.push(React.createElement("div",{className:"form-block",key:"d"},React.createElement("h2",null,BF4.title),React.createElement(FormInput,React.__spread({},BF4.fields.playerName))))}var noteClass=classnames("directions-note",{invalid:this.state.submitted&&this.state.formErrors.invalidGamerProfiles.length===4});return React.createElement(Grid,null,React.createElement("div",{className:"preamble inner"},React.createElement("p",{className:"speaking"},React.createElement("em",null,"Your information")),React.createElement("p",null,"Please tell us a little about yourself")),React.createElement(Form,{id:FORM_ID,className:"inner",onChange:this.handleChange,onSubmit:this.submitProfiles},background,React.createElement("h4",{className:"directions-title"},"Game Account(s)"),React.createElement("h6",{className:noteClass},"You must fill out at least one game profile"),React.createElement("div",null,formBlocks),React.createElement("div",{className:"inner"},React.createElement(Loading,{className:"left",active:this.state.loading}),React.createElement(FormSubmit,{className:"right"},"Submit"))))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../input/store":42,"../services/api":46,"../services/error":47,"../services/guide":48,"../validators/identity":58,"./Background.jsx":5,"./Button.jsx":7,"./Form.jsx":12,"./FormInput.jsx":15,"./FormSelect.jsx":16,"./FormSubmit.jsx":17,"./Grid.jsx":18,"./IdentityResults.jsx":21,"./Loading.jsx":23,classnames:61}],21:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var Link=(typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null).Link;var Button=require("./Button.jsx");var Title=require("./Title.jsx");module.exports=React.createClass({displayName:"IdentityResults",getDefaultProps:function(){return{results:{}}},render:function(){var results=[];if(this.props.results.LOL){results.push(React.createElement("li",{key:"d"},React.createElement(Title,{className:"result-title"},"League of Legends"),React.createElement("h6",null,this.props.results.LOL.id)))}if(this.props.results.BFHD){results.push(React.createElement("li",{key:"b"},React.createElement(Title,{className:"result-title"},"Battlefield: Hardline"),React.createElement("h6",null,this.props.results.BFHD.id)))}if(this.props.results.BF4){results.push(React.createElement("li",{key:"c"},React.createElement(Title,{className:"result-title"},"Battlefield 4"),React.createElement("h6",null,this.props.results.BF4.id)))}if(this.props.results.WOW){results.push(React.createElement("li",{key:"a"},React.createElement(Title,{className:"result-title"},"World of Warcraft"),React.createElement("h6",null,this.props.results.WOW.id)))}return React.createElement("div",{className:"inner identity-results"},React.createElement("div",{className:"preamble"},React.createElement("p",{className:"speaking"},React.createElement("em",null,"Here is what we found..."),React.createElement("br",null)),"Please confirm that these are your accounts"),React.createElement("div",null,React.createElement("ul",{className:"profile-results"},results),React.createElement(Button,{className:"right",action:this.props.confirm},"Looks Good"),React.createElement("p",{className:"small-text"},"Something missing? ",React.createElement("a",{className:"results-change",href:"#",onClick:this.props.reset},"Change your information"))))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./Button.jsx":7,"./Title.jsx":35}],22:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var Link=(typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null).Link;var Title=require("./Title.jsx");var Button=require("./Button.jsx");var Background=require("./Background.jsx");var Explainer=require("./Explainer.jsx");var scrollTo=require("../services/scrollTo");var touchdown=require("../services/touchdown");module.exports=React.createClass({displayName:"Intro",goToDetails:function(){var detailsNode=React.findDOMNode(this.refs.details);var rect=detailsNode.getBoundingClientRect();var top=rect.top+document.body.scrollTop;scrollTo(top,400)},render:function(){return React.createElement("div",{className:"intro"},React.createElement(Background,null),React.createElement("div",{className:"intro-block"},React.createElement("div",React.__spread({className:"title-wrap"},touchdown(this.goToDetails)),React.createElement(Title,{className:"main-sub"},"PROJECT"),React.createElement(Title,{className:"main",split:true},"GAMR"),React.createElement("span",{className:"more-content fa fa-angle-down"}))),React.createElement(Explainer,{ref:"details"}))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../services/scrollTo":52,"../services/touchdown":54,"./Background.jsx":5,"./Button.jsx":7,"./Explainer.jsx":10,"./Title.jsx":35}],23:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var classnames=require("classnames");module.exports=React.createClass({displayName:"Loading",render:function(){return React.createElement("div",{className:classnames("loading-icon",this.props.className,{active:this.props.active})},React.createElement("span",{className:"load-dot l-a"}),React.createElement("span",{className:"load-dot l-b"}),React.createElement("span",{className:"load-dot l-c"}))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{classnames:61}],24:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var State=(typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null).State;var classnames=require("classnames");var Progress=require("./Progress.jsx");var Title=require("./Title.jsx");var Link=(typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null).Link;var surveyStore=require("../survey/store");var config={"/consent":{main:"Consent",progress:0},"/identity":{main:"Identity",progress:1},"/survey/brain-type":{main:"Brain Type",progress:2},"/survey/personality":{main:"Personality",progress:3},"/survey/gamer-type":{main:"Gamer Type",progress:4},"/results/":{main:null,progress:4}};module.exports=React.createClass({displayName:"Nav",mixins:[State],render:function(){var pathname=this.getPathname();var isResults=false;if(pathname.indexOf("results")!==-1){pathname=/results/;isResults=true}var text=config[pathname];if(!text)return null;var nav=React.createElement("div",{key:"a"},React.createElement("div",{className:"nav-left"},React.createElement(Link,{to:"home"},React.createElement(Title,{className:"nav-title-sub a"},React.createElement("span",{className:"desktop-only"},"PROJECT")," GAMR")),React.createElement(Title,{className:"nav-title"},text.main)),React.createElement("div",{className:"nav-right"},React.createElement(Progress,{current:text.progress,length:5})));if(isResults){var isOwner=surveyStore.isComplete("gamerType");nav=isOwner?React.createElement("div",{key:"b"},React.createElement("h2",{className:"result-nav-title"},"YOUR ",React.createElement(Link,{to:"home"},"GAMR")," PROFILE")):React.createElement("div",{key:"b",className:"inbound"},React.createElement("h2",{className:"result-nav-title"},React.createElement(Link,{to:"home"},"PROJECT GAMR")," PROFILE"))}return React.createElement("div",null,React.createElement("div",{className:"nav-shadow"}),React.createElement("div",{className:"nav-wrap"},React.createElement("div",{className:"nav"},nav)))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../survey/store":57,"./Progress.jsx":28,"./Title.jsx":35,classnames:61}],25:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,Router=typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null,Link=Router.Link,NotFound;module.exports=NotFound=React.createClass({displayName:"NotFound",render:function(){return React.createElement("div",{id:"home"},React.createElement("h1",null,"Not Found"),React.createElement(Link,{to:"home"},"Take The Survey"))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],26:[function(require,module,exports){(function(process,global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var BrainChart=require("./BrainChart.jsx");var StarPlot=require("./StarPlot.jsx");var State=(typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null).State;var Link=(typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null).Link;var Loading=require("./Loading.jsx");var Button=require("./Button.jsx");var Grid=require("./Grid.jsx");var api=require("../services/api");var surveyStore=require("../survey/store");var surveyKey=require("../services/surveyKey");var guide=require("../services/guide");var ReadPersonality=require("./ReadMore.jsx").ReadPersonality;var ReadGamer=require("./ReadMore.jsx").ReadGamer;var ReadBrain=require("./ReadMore.jsx").ReadBrain;var TwitterButton=require("./TwitterButton.jsx");var FacebookButton=require("./FacebookButton.jsx");module.exports=React.createClass({displayName:"Profile",mixins:[State],getInitialState:function(){var isOwner=surveyStore.isComplete("gamerType");return{isOwner:isOwner,processed:!isOwner,waited:!isOwner,scores:surveyStore.getScores(),profile:surveyStore.decodeProfile(this.getParams().profile),plainformData:surveyStore.getPlainFormData()}},componentDidMount:function(){if(this.state.isOwner){api.submitQuestions({survey:JSON.stringify(this.state.plainformData)},function(err,data){console.info("Api Response");console.log(JSON.stringify(data,null,2));this.setState({processed:true})}.bind(this));setTimeout(function(){this.setState({waited:true})}.bind(this),2e3);process.nextTick(function(){this.setState({loadingIcon:true})}.bind(this))}},render:function(){var content;var profile=this.state.profile;var gamerDescription=guide.gamerTypes[profile.gamerTypeKey];function getGameBarcode(){return React.createElement("span",{className:"code"},surveyKey.gamerType.map(function(axis){return React.createElement("span",{className:"group",key:axis.title},axis.options.map(function(option){return profile.gamerType[axis.title]===option?React.createElement("em",{key:option},option):React.createElement("span",{key:option},option)}))}))}function getScaleBareCode(survey){return React.createElement("span",{className:"code"},surveyKey[survey].map(function(axis){return React.createElement("span",{className:"group",key:axis.key},axis.key,React.createElement("em",null,Math.round(profile[survey][axis.title])))}))}if(this.state.processed&&this.state.waited){content=React.createElement("div",{className:"profile-wrap"},React.createElement("div",{className:"profile-section"},React.createElement("div",{className:"profile-media"},React.createElement("div",{className:"profile-media-box"},React.createElement("img",{className:"profile-media-child",src:guide.assets+"/images/"+gamerDescription.image}))),React.createElement("h2",{className:"profile-title"},"Gamer Type"),React.createElement("div",{className:"result-barcode"},getGameBarcode()),React.createElement("p",null,"You are ",React.createElement("strong",null,gamerDescription.title)),React.createElement("p",null,gamerDescription.description),React.createElement(ReadGamer,null)),React.createElement("div",{className:"profile-section"},React.createElement("div",{className:"profile-media"},React.createElement("div",{className:"profile-media-box"},React.createElement("div",{className:"profile-media-child"},React.createElement(StarPlot,{data:profile.personality})))),React.createElement("h2",{className:"profile-title"},"Personality"),React.createElement("div",{className:"result-barcode"},getScaleBareCode("personality")),React.createElement("p",null,"You have a personality, and we have something to say."),React.createElement("p",null,gamerDescription.description),React.createElement(ReadPersonality,null)),React.createElement("div",{className:"profile-section"},React.createElement("div",{className:"profile-media"},React.createElement("div",{className:"profile-media-box"},React.createElement("div",{className:"profile-media-child"},React.createElement(BrainChart,null)))),React.createElement("h2",{className:"profile-title"},"Brain Type"),React.createElement("div",{className:"result-barcode"},getScaleBareCode("brainType")),React.createElement("p",null,"Your brain is like squishy or something."),React.createElement("p",null,gamerDescription.description),React.createElement(ReadBrain,null)),this.state.isOwner?React.createElement("div",{className:"result-social"},React.createElement(TwitterButton,{text:"I am "+gamerDescription.title}),React.createElement(FacebookButton,{text:"I am "+gamerDescription.title})):React.createElement("div",{className:"result-social"},React.createElement("p",{className:"invitation"},"Want to find out your own profile?"),React.createElement(Link,{to:"home"},React.createElement(Button,null,"Take the survey")),React.createElement("p",{className:"end-footnote"},"Project Gamr is part of a scientific study being conducted by MIT Media Lab and Tilburg University")))}else{content=React.createElement(Grid,null,React.createElement("div",{className:"loading-profile"},React.createElement("h5",null,"Creating Your Profile"),React.createElement(Loading,{active:this.state.loadingIcon})))}return content}})}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../services/api":46,"../services/guide":48,"../services/surveyKey":53,"../survey/store":57,"./BrainChart.jsx":6,"./Button.jsx":7,"./FacebookButton.jsx":11,"./Grid.jsx":18,"./Loading.jsx":23,"./ReadMore.jsx":30,"./StarPlot.jsx":33,"./TwitterButton.jsx":36,_process:60}],27:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,Router=typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null,RouteHandler=Router.RouteHandler,ProfileWrap;module.exports=ProfileWrap=React.createClass({displayName:"ProfileWrap",render:function(){return React.createElement(RouteHandler,React.__spread({},this.props))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],28:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,classnames=require("classnames");module.exports=React.createClass({displayName:"Progress",getDefaultProps:function(){return{current:0,length:4}},render:function(){var current=this.props.current;var dots=[],i,dotClass;for(i=0;i<this.props.length;i+=1){dotClass=classnames("progress-dot",{active:current===i,done:current>i,pending:current<i});dots.push(React.createElement("li",{className:dotClass,key:i}))}return React.createElement("ul",{className:classnames("progress-bar",this.props.className)},dots)}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{classnames:61}],29:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var Answer=require("./Answer.jsx");var Button=require("./Button.jsx");var classnames=require("classnames");var Background=require("./Background.jsx");var Navigation=(typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null).Navigation;var surveyStore=require("../survey/store");var surveyActions=require("../survey/actions");var touchdown=require("../services/touchdown");module.exports=React.createClass({displayName:"QuestionSet",mixins:[Navigation],getInitialState:function(){return{current:0,length:surveyStore.getLength(this.props.survey)}},submitQuestion:function(answer){surveyActions.answerQuestion(this.props.survey,this.state.current,answer);if(this.state.current<this.state.length-1){this.next()}else if(this.props.finalStep){this.goToResults()}else{this.setState({finished:true})}},goToResults:function(){this.transitionTo("profile",{profile:surveyStore.getProfileHash()})},nextSection:function(){this.transitionTo(this.props.nextRoute)},begin:function(){this.setState({started:true})},next:function(){this.setState({current:this.state.current+1})},prev:function(){this.setState({current:this.state.current-1})},render:function(){var scale=surveyStore.getSurvey(this.props.survey).scale;var question=surveyStore.getQuestion(this.props.survey,this.state.current);var hasPrev=this.state.current>0;var hasNext=this.state.current<this.state.length-1;if(this.state.finished){return React.createElement(Background,null,React.createElement("div",{className:"up-next"},React.createElement("h6",null,"Part ",this.props.surveyIdx,": ",React.createElement("em",null,"Complete")),React.createElement("div",{className:"up-next-title"},React.createElement("strong",null,"up next..."),React.createElement("h5",null,this.props.nextTitle)),React.createElement(Button,{action:this.nextSection},"Continue")))}else if(this.state.started){return React.createElement("div",{className:classnames("question-set-body","inner",{answered:!!question.answer})},React.createElement("div",{className:"question-wrap"},React.createElement("p",{className:"question-text",key:this.state.current},question.text)),React.createElement(Answer,{idx:this.state.current,selected:question.answer,action:this.submitQuestion,answers:question.choices}),React.createElement("div",{className:"question-nav"},hasPrev?React.createElement("span",React.__spread({className:"prev"},touchdown(this.prev)),"<"):null,hasPrev||hasNext?React.createElement("span",{className:"index"},this.state.current+1," of ",this.state.length):null,hasNext&&!!question.answer?React.createElement("span",React.__spread({className:"next"},touchdown(this.next)),">"):null))}else{return React.createElement("div",null,React.createElement("div",{className:"instructions-body inner"},this.props.children,React.createElement("div",{className:"answerKey"},React.createElement("p",{className:"speaking"},"Indicate for each of the following statements whether it is:"),React.createElement("ul",{className:"answer-scale"},scale.map(function(answer,idx){return React.createElement("li",{key:idx},React.createElement("span",{className:"value"},idx+1)," ",answer)})))),React.createElement("div",{className:"inner"},React.createElement(Button,{className:"right",action:this.begin},"GOT IT")))}}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../services/touchdown":54,"../survey/actions":55,"../survey/store":57,"./Answer.jsx":3,"./Background.jsx":5,"./Button.jsx":7,classnames:61}],30:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var touchdown=require("../services/touchdown");var ReadMore=React.createClass({displayName:"ReadMore",getInitialState:function(){return{open:false}},toggle:function(e){e.preventDefault();this.setState({open:!this.state.open})},render:function(){if(this.state.open){return React.createElement("div",{className:"read-more closed"},React.createElement("a",React.__spread({href:"#",className:"read-more-toggle collapse"},touchdown(this.toggle)),"read less"),this.props.children,React.createElement("a",React.__spread({href:"#",className:"read-more-toggle collapse"},touchdown(this.toggle)),"read less"))}else{return React.createElement("div",{className:"read-more open"},React.createElement("a",React.__spread({href:"#",className:"read-more-toggle"},touchdown(this.toggle)),"read more"))}}});module.exports.ReadPersonality=React.createClass({displayName:"ReadPersonality",render:function(){return React.createElement(ReadMore,null,React.createElement("p",null,"Your personality is described in terms of the Big Five personality test. The Big Five is one of the most strongly supported personality models at moment, and is frequently used for psychological screening at a variety of jobs. Higher scores are not better or worse than lower scores. Different scores simply describe different personality profiles."),React.createElement("p",null,React.createElement("em",null,"Openness")," to experience describes appreciation for art, emotion, adventure, unusual ideas, curiosity, and variety of experience. Openness reflects the degree of intellectual curiosity, creativity and a preference for novelty and variety. It also describes the extent to which a person is imaginative or independent, and depicts a personal preference for a variety of activities over a strict routine. If you score low on this dimension you are likely consistent and cautious. If you score high on this dimension you are likely inventive and curious."),React.createElement("p",null,React.createElement("em",null,"Conscientiousness")," describes a tendency to be organized and dependable, show self-discipline, act dutifully, aim for achievement, and prefer planned rather than spontaneous behavior. If you score low on this dimension you are likely easy-going and careless. If you score high on this dimension you are likely efficient and organized."),React.createElement("p",null,React.createElement("em",null,"Extraversion")," describes a person who is characterized by energy, positive emotions, surgency, assertiveness, sociability, and the tendency to seek stimulation in the company of others, and talkativeness. If you score low on this dimension you are likely to be solitary and reserved. If you score high on this dimension you are likely outgoing and energetic."),React.createElement("p",null,React.createElement("em",null,"Agreeableness")," describes the tendency to be compassionate and cooperative rather than suspicious and antagonistic towards others. It is also a measure of one's trusting and helpful nature, and whether a person is generally well tempered or not. If you score low on this dimension you are likely analytical and detached. If you score high on this dimension you are likely friendly and compassionate."),React.createElement("p",null,React.createElement("em",null,"Emotional"),' stability describes the tendency to not experience unpleasant emotions easily, such as anger, anxiety, depression, and vulnerability. Emotional Stability also refers to the degree of neuroticism and impulse control and is often referred by its high pole, "Neuroticism". If you score low on this dimension you are likely sensitive and nervous. If you score high on this dimension you are likely secure and confident.'))}});module.exports.ReadGamer=React.createClass({displayName:"ReadGamer",render:function(){return React.createElement(ReadMore,null,React.createElement("p",null,'Your gamer type describes your motivations to play video games. There are three main categories of motivation: Social, Achievement, and Immersion. Each category consists of 4 or 5 factors, to make a total of 12 motivations. There is a 13th motivation that lies outside of these categories. Researchers call it "arousal", but in regular English we would call it "excitement". Below you will find your average score on each category of motivation, as well as your exact score on each individual motivation.'),React.createElement("p",null,"Todo..."))}});module.exports.ReadBrain=React.createClass({displayName:"ReadBrain",render:function(){return React.createElement(ReadMore,null,React.createElement("p",null,"Brain type is based on Empathizing-Systemizing theory."),React.createElement("p",null,React.createElement("em",null,"Empathizing")," measures your interest in identifying and understanding the thoughts and feelings of others and responding to these with appropriate emotions."),React.createElement("p",null,React.createElement("em",null,"Systemizing")," measures your interest in analyzing and constructing systems."),React.createElement("p",null,"It has been found that men more often show a higher systemating score than empathizing score, while women more often show the reverse. Many people show a balanced profile, while a small minority shows an extreme unbalance one way or the other. 'female' and 'extreme female' brain types occur more often among women, while 'male' and 'extreme male' brain type occur more often among men. The balanced brain type occurs frequently among both men and women."),React.createElement("p",null,"Brain type relates to, but is seperate from, physical gender. All five brain types (E>>S, E>S, E=S, E<S, E<<S) occur among both men and women, but in different proportions. Brain type has been found to be a better predictor then physical gender of who chooses a career in Science, Technology, Engineering, and Mathematics."))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../services/touchdown":54}],31:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,QuestionSet=require("./QuestionSet.jsx");module.exports.BrainType=React.createClass({displayName:"BrainType",render:function(){return React.createElement(QuestionSet,{survey:"brainType",surveyIdx:"1",nextRoute:"personality",nextTitle:"Personality"},React.createElement("h4",{className:"directions-title"},"Instructions"),React.createElement("div",{className:"directions"},React.createElement("p",null,"Describe yourself as you generally are now, not as you wish to be in the future."),React.createElement("p",null,"Describe yourself as you honestly see yourself, in relation to other people you know of the same sex as you are, and roughly your same age.")))}});module.exports.Personality=React.createClass({displayName:"Personality",render:function(){return React.createElement(QuestionSet,{survey:"personality",surveyIdx:"2",nextRoute:"gamer-type",nextTitle:"Gamer Type"},React.createElement("h4",{className:"directions-title"},"Instructions"),React.createElement("div",{className:"directions"},React.createElement("p",null,"Describe yourself as you generally are now, not as you wish to be in the future."),React.createElement("p",null,"Describe yourself as you honestly see yourself, in relation to other people you know of the same sex as you are, and roughly your same age.")))}});module.exports.GamerType=React.createClass({displayName:"GamerType",render:function(){return React.createElement(QuestionSet,{survey:"gamerType",nextRoute:"results",finalStep:true},React.createElement("h4",{className:"directions-title"},"Instructions"),React.createElement("div",{className:"directions"},React.createElement("p",null,"Describe what you generally enjoy about playing video games.")))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});
},{"./QuestionSet.jsx":29}],32:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,classnames=require("classnames"),Splitter;module.exports=Splitter=React.createClass({displayName:"Splitter",getDefaultProps:function(){return{separator:"",classPrefix:"seg",makeStyle:function(){return}}},render:function(){if(typeof this.props.children!=="string"){throw new Error("[Splitter] must have a string as children")}var segments=this.props.children.split(this.props.separator),classPrefix=this.props.classPrefix,makeStyle=this.props.makeStyle;return React.createElement("div",{className:"splitter"},segments.map(function(seg,idx){return React.createElement("span",{style:makeStyle(idx,seg),className:classnames(classPrefix,classPrefix+"-"+idx),key:idx},seg)}))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{classnames:61}],33:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var surveyKey=require("../services/surveyKey");module.exports=React.createClass({displayName:"StarPlot",componentDidMount:function(){var wrapper=d3.select(React.findDOMNode(this));var scale=d3.scale.linear().domain([0,100]).range([0,100]);var star=d3.starPlot();var key=surveyKey.personality.slice().reverse();var labels=key.map(function(dimension){return dimension.key});var properties=key.map(function(dimension){return dimension.title});star.width(180).properties(properties).scales(scale).labels(properties).margin({top:10,right:10,bottom:10,left:10}).labelMargin(10).includeGuidelines(true).includeLabels(true);var svg=wrapper.append("svg");var starG=svg.append("g").datum(this.props.data).call(star).call(star.interaction);var interactionLabel=wrapper.append("div").attr("class","interaction label");var circle=svg.append("circle").attr("class","interaction circle").attr("r",5);var interaction=wrapper.selectAll(".interaction").style("display","none");svg.selectAll(".star-interaction").on("mouseover",function(d){svg.selectAll(".star-label").style("display","none");interaction.style("display","block");circle.attr("cx",d.x).attr("cy",d.y);var label=interactionLabel.node();label.textContent="hello";console.log(label.offsetWidth);label.style.left=d.xExtent-label.offsetWidth/2+"px";label.style.top=d.yExtent-label.offsetHeight/2+"px"}).on("mouseout",function(d){interaction.style("display","none");svg.selectAll(".star-label").style("display","block")})},render:function(){return React.createElement("div",{className:"star-wrap"})}});d3.starPlot=function(){var width=200,margin={top:0,right:0,bottom:0,left:0},labelMargin=20,includeGuidelines=true,includeLabels=true,properties=[],scales=[],labels=[],title=nop,g,datum,radius=width/2,origin=[radius,radius],radii=properties.length,radians=2*Math.PI/radii,scale=d3.scale.linear().domain([0,100]).range([0,radius]);function chart(selection){datum=selection.datum();g=selection.attr("transform","translate("+margin.left+","+margin.top+")");if(includeGuidelines){drawGuidelines()}if(includeLabels){drawLabels()}drawChart()}function drawGuidelines(){var r=0;properties.forEach(function(d,i){var l,x,y;l=radius;x=l*Math.cos(r);y=l*Math.sin(r);g.append("line").attr("class","star-axis").attr("x1",origin[0]).attr("y1",origin[1]).attr("x2",origin[0]+x).attr("y2",origin[1]+y);r+=radians})}function drawLabels(){var r=0;properties.forEach(function(d,i){var l,x,y;l=radius;x=(l+labelMargin)*Math.cos(r);y=(l+labelMargin)*Math.sin(r);g.append("text").attr("class","star-label").attr("x",origin[0]+x).attr("y",origin[1]+y).text(labels[i]).style("text-anchor","middle").style("dominant-baseline","central");r+=radians})}function drawChart(){g.append("circle").attr("class","star-origin").attr("cx",origin[0]).attr("cy",origin[1]).attr("r",2);var path=d3.svg.line.radial();var pathData=[];var r=Math.PI/2;properties.forEach(function(d,i){var userScale=scales[i]||scales[0];pathData.push([scale(userScale(datum[d])),r]);r+=radians});g.append("path").attr("class","star-path").attr("transform","translate("+origin[0]+","+origin[1]+")").attr("d",path(pathData)+"Z");g.append("text").attr("class","star-title").attr("x",origin[0]).attr("y",-(margin.top/2)).text(title(datum)).style("text-anchor","middle")}function drawInteraction(){var path=d3.svg.line.radial();var rInteraction=Math.PI/2;var rExtent=0;properties.forEach(function(d,i){var lInteraction,xInteraction,yInteraction;var lExtent,xExtent,yExtent;lInteraction=radius;xInteraction=lInteraction*Math.cos(rInteraction);yInteraction=lInteraction*Math.sin(rInteraction);lExtent=radius+labelMargin;xExtent=lExtent*Math.cos(rExtent)+origin[0]+margin.left;yExtent=lExtent*Math.sin(rExtent)+origin[1]+margin.top;var userScale=scales[i]||scales[0];lValue=scale(userScale(datum[d]));x=lValue*Math.cos(rExtent)+origin[0]+margin.left;y=lValue*Math.sin(rExtent)+origin[1]+margin.top;var halfRadians=radians/2;var pathData=[[0,rInteraction-halfRadians],[lInteraction,rInteraction-halfRadians],[lInteraction,rInteraction+halfRadians]];var datumToBind={xExtent:xExtent,yExtent:yExtent,x:x,y:y,key:properties[i],datum:datum};g.append("path").datum(datumToBind).attr("class","star-interaction").attr("transform","translate("+origin[0]+","+origin[1]+")").attr("d",path(pathData)+"Z");rInteraction+=radians;rExtent+=radians})}function nop(){return}chart.interaction=function(){drawInteraction()};chart.properties=function(_){if(!arguments.length)return properties;properties=_;radii=properties.length;radians=2*Math.PI/radii;return chart};chart.scales=function(_){if(!arguments.length)return scales;if(Array.isArray(_)){scales=_}else{scales=[_]}return chart};chart.width=function(_){if(!arguments.length)return width;width=_;radius=width/2;origin=[radius,radius];scale.range([0,radius]);return chart};chart.margin=function(_){if(!arguments.length)return margin;margin=_;origin=[radius,radius];return chart};chart.labelMargin=function(_){if(!arguments.length)return labelMargin;labelMargin=_;return chart};chart.title=function(_){if(!arguments.length)return title;title=_;return chart};chart.labels=function(_){if(!arguments.length)return labels;labels=_;return chart};chart.includeGuidelines=function(_){if(!arguments.length)return includeGuidelines;includeGuidelines=_;return chart};chart.includeLabels=function(_){if(!arguments.length)return includeLabels;includeLabels=_;return chart};return chart}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../services/surveyKey":53}],34:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var Router=typeof window!=="undefined"?window.ReactRouter:typeof global!=="undefined"?global.ReactRouter:null;var RouteHandler=Router.RouteHandler;var Grid=require("./Grid.jsx");module.exports=React.createClass({displayName:"Survey",render:function(){return React.createElement(Grid,null,React.createElement(RouteHandler,React.__spread({},this.props,{key:name})))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./Grid.jsx":18}],35:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null,Splitter=require("./Splitter.jsx"),classnames=require("classnames"),Title;module.exports=Title=React.createClass({displayName:"Title",render:function(){return React.createElement("h2",{className:classnames("title",this.props.className)},this.props.split?React.createElement(Splitter,React.__spread({classPrefix:"t"},this.props),this.props.children):this.props.children)}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./Splitter.jsx":32,classnames:61}],36:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;var Button=require("./Button.jsx");module.exports=React.createClass({displayName:"TwitterButton",propTypes:{text:React.PropTypes.string,hashtags:React.PropTypes.array},getDefaultProps:function(){return{hashtags:["projectgamr"]}},openShare:function(){var width=575,height=400,left=(window.offsetWidth-width)/2,top=(window.offsetHeight-height)/2,opts="status=1"+",width="+width+",height="+height+",top="+top+",left="+left;var url="https://twitter.com/intent/tweet";url+="?text="+this.props.text;url+="&url="+encodeURIComponent(window.location.href);url+="&hashtags="+this.props.hashtags.join(",");window.open(url,"twitter",opts);return false},render:function(){return React.createElement(Button,{action:this.openShare},React.createElement("span",{className:"fa fa-twitter"})," Tweet")}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./Button.jsx":7}],37:[function(require,module,exports){(function(global){var React=typeof window!=="undefined"?window.React:typeof global!=="undefined"?global.React:null;module.exports=React.createClass({displayName:"Video",render:function(){return React.createElement("div",{className:"video-wrap"},React.createElement("div",{className:"video"},React.createElement("iframe",{id:"ytplayer",type:"text/html",width:"100%",height:"100%",src:"http://www.youtube.com/embed/Fq0X3FwwRb0?autoplay=0&color=white&modestbranding=1&rel=0&showinfo=0&origin=http://example.com",frameBorder:"0"})))}})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],38:[function(require,module,exports){var Dispatcher=require("flux").Dispatcher;module.exports=new Dispatcher},{flux:63}],39:[function(require,module,exports){var app=require("./components/App.jsx");if(typeof gamrConfig!=="undefined"){app(gamrConfig)}else{console.error("[gamr]","You must setup `gamrConfig`")}},{"./components/App.jsx":4}],40:[function(require,module,exports){var AppDispatcher=require("../dispatcher/AppDispatcher"),Constants=require("./constants"),InputActions;module.exports=InputActions={createForm:function(formId){AppDispatcher.dispatch({actionType:Constants.CREATE_FORM,formId:formId})},resetForm:function(formId){AppDispatcher.dispatch({actionType:Constants.RESET_FORM,formId:formId})},setField:function(formId,fieldId,value){AppDispatcher.dispatch({actionType:Constants.SET_FIELD,formId:formId,fieldId:fieldId,value:value})},updateField:function(formId,fieldId,value,valid){AppDispatcher.dispatch({actionType:Constants.UPDATE_FIELD,formId:formId,fieldId:fieldId,value:value})},submit:function(formId){AppDispatcher.dispatch({actionType:Constants.SUBMIT_FORM,formId:formId})}}},{"../dispatcher/AppDispatcher":38,"./constants":41}],41:[function(require,module,exports){var keyMirror=require("keymirror");module.exports=keyMirror({CREATE_FORM:null,RESET_FORM:null,SET_FIELD:null,UPDATE_FIELD:null,SUBMIT_FORM:null})},{keymirror:66}],42:[function(require,module,exports){var AppDispatcher=require("../dispatcher/AppDispatcher");var EventEmitter=require("events").EventEmitter;var Constants=require("./constants");var assign=require("object-assign");var CHANGE_EVENT="change";var _input={};var InputStore=assign({},EventEmitter.prototype,{getField:function(form,field){return _input[form]&&_input[form][field]},getForm:function(form,field){return _input[form]||{}},getAllForms:function(){return _input},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(callback){this.on(CHANGE_EVENT,callback)},removeChangeListener:function(callback){this.removeListener(CHANGE_EVENT,callback)}});InputStore.setMaxListeners(0);function updateField(form,field,value,valid){if(_input[form]){console.log("[%s] %s: %s",form,field,value);_input[form][field]=value}else{console.error("[form] undefined form",form)}}AppDispatcher.register(function(action){switch(action.actionType){case Constants.CREATE_FORM:if(!action.formId){console.error("[form] mising formid",action.formId)}else if(_input[action.formId]){}else{_input[action.formId]={}}break;case Constants.RESET_FORM:_input[action.formId]={};InputStore.emit(action.formId);break;case Constants.SET_FIELD:if(InputStore.getField(action.formId,action.fieldId)){return}else{updateField(action.formId,action.fieldId,action.value)}break;case Constants.UPDATE_FIELD:updateField(action.formId,action.fieldId,action.value);InputStore.emit(action.formId);break;case Constants.SUBMIT_FORM:InputStore.emit(action.formId+"submit");break;default:}});module.exports=InputStore},{"../dispatcher/AppDispatcher":38,"./constants":41,events:59,"object-assign":67}],43:[function(require,module,exports){var guide=require("../guide");var DEFAULT=3;var images=["/images/backgrounds-0.jpg","/images/backgrounds-1.jpg","/images/backgrounds-2.jpg","/images/backgrounds-3.jpg","/images/backgrounds-5.jpg"];var imgCache={};function getImage(idx){if(!imgCache[idx])imgCache[idx]="url('"+guide.assets+images[idx]+"')";return imgCache[idx]}module.exports.default=function(){return getImage(DEFAULT)};module.exports.random=function(){return getImage(Math.floor(Math.random()*(images.length-1)))};module.exports.byTime=function(time){return getImage(Math.ceil(time/2)%images.length%images.length)}},{"../guide":48}],44:[function(require,module,exports){var makeCell=require("./makeCell");var image=require("./image");function randomOpacity(){var opacity=Math.random()/3+.5;if(Math.random()<.15){opacity=opacity*3}return opacity}function makeRandom(){var cells=[];function getCell(cell){var id=cell.x+"."+cell.y;if(!cells[id])cells[id]=makeCell(0,image.byTime(0));return cells[id]}return function(grid,cell,time){cell=getCell(cell);var rand=Math.random();if(rand<.1){cell.fadeTo(0)}else if(Math.random()>.7){cell.setImage(image.byTime(time));cell.fadeTo(randomOpacity())}return{backgroundImage:cell.image(),opacity:cell.opacity()}}}module.exports={random:makeRandom}},{"./image":43,"./makeCell":45}],45:[function(require,module,exports){var LOCK=2e3+100;var INITIAL_LOCK=20;function Cell(opacity,image){var opacity=opacity||0;var image=image||"";var lastUpdate=Date.now()+INITIAL_LOCK-LOCK;function canUpdate(){return Date.now()-lastUpdate>LOCK}this.fadeTo=function(nextOpacity){if(canUpdate()){opacity=nextOpacity;lastUpdate=Date.now()}};this.setImage=function(nextImage){if(opacity===0&&canUpdate()){image=nextImage}};this.opacity=function(){return opacity};this.image=function(){return image}}module.exports=function makeCell(opacity,image){return new Cell(opacity,image)}},{}],46:[function(require,module,exports){var request=require("superagent");var identityAdapter=require("../adapters/identity");var surveyAdapter=require("../adapters/survey");var api;module.exports=api={};api.config=function(config){api.host=config.api};api.submitQuestions=function(data,cb){if(!api.host)return cb(null,{});request.post(api.host+"/submit").query(surveyAdapter(data)).end(function(err,res){try{cb(err,JSON.parse(res.text))}catch(e){cb(new Error("404"),{})}})};api.getUser=function(data,cb){if(!api.host)return cb(null,{});getJson(api.host+"/user",identityAdapter(data),function(err,user){cb(user.error||err,user)})};function getJson(path,query,cb){if(arguments.length===2){cb=query;query={}}request.get(path).query(query).end(function(err,res){try{cb(err,JSON.parse(res.text))}catch(e){cb(new Error("404"),{})}})}},{"../adapters/identity":1,"../adapters/survey":2,superagent:70}],47:[function(require,module,exports){var EventEmitter=require("events").EventEmitter;var errorEvents=new EventEmitter;module.exports.create=function(config){errorEvents.emit("create",config)};module.exports.dismiss=function(){errorEvents.emit("dismiss")};module.exports.onCreate=function(fn){errorEvents.on("create",fn)};module.exports.offCreate=function(fn){resize.removeListener("create",fn)};module.exports.onDismiss=function(fn){errorEvents.on("dismiss",fn)};module.exports.offDismiss=function(fn){resize.removeListener("dismiss",fn)}},{events:59}],48:[function(require,module,exports){var request=require("superagent");var surveyActions=require("../survey/actions");var guide;module.exports=guide={};guide.config=function(config){guide.identity=config.identity;guide.assets=config.assets;guide.survey=config.survey;guide.gamerTypes=config.gamerTypes;surveyActions.createSurveys(config.survey)}},{"../survey/actions":55,superagent:70}],49:[function(require,module,exports){var $="t",lK="EGMFXYRS".split(""),nK="nfjlicrvbu".split(""),cO="aabbab".split(""),pO="gamerType,personality,brainType".split(","),pI=parseInt;function gR(a){return a.slice().reverse()}function hV(v){return typeof v==="string"?lK.indexOf(v)+1:v.toString().split("").map(function(n){return nK[pI(n)]}).join("")}function eV(v){return pI(v)?lK[pI(v-1)]:pI(v.split("").map(function(c){return nK.indexOf(c)}).join(""))}function mP(strArray){var cIx=0,l=cO.length;return function i(v){var m=cO[cIx%l]==="a"?"push":"unshift";strArray[m](v);cIx+=1}}function mU(a){var l=cO.length,cIx=l-a.length%l,rO=gR(cO);return function e(){var m=rO[cIx%l]==="a"?"pop":"shift";cIx+=1;return a[m]()}}function pack(p,k){var f=[],_=mP(f);pO.forEach(function(n){if(k[n].length!==p[n].length){throw new Error("key/profile mismatch: "+n)}k[n].forEach(function(a,idx){var v=p[n][idx],c=a.total?a.total-v:a.options.indexOf(v)===0?a.options[1]:a.options[0];_(hV(v));_(hV(c))})});return f.join($)}function unpack(p,k){try{var s=p.split($),_=mU(s),f={},g=true;gR(pO).forEach(function(n){f[n]=[];gR(k[n]).forEach(function(a){var c=eV(_()),v=eV(_());if(a.total){g=v+c===100?g:false}else{g=[a.options.indexOf(v),a.options.indexOf(c)].sort().join("")==="01"?g:false}f[n].unshift(v)})});return g?f:null}catch(e){return null}}module.exports.makePack=function(key){return function(profile){return pack(profile,key)}};module.exports.makeUnpack=function(key){return function(packed){return unpack(packed,key)}}},{}],50:[function(require,module,exports){var surveyKey=require("./surveyKey");var packResults=require("./packer").makePack(surveyKey);var unpackResults=require("./packer").makeUnpack(surveyKey);var normalize={personality:function(key,value){return value*2},brainType:function(key,value){if(key==="Empathizing"){return(value-23.8)/8.75}else if(key==="Systemizing"){return(value-19)/10.05}else{throw new Error("bad key: "+key)}}};module.exports.getScores=function(surveys){console.info("Get Scores");var scores={};for(surveyName in surveys){if(surveyKey[surveyName]){var survey=surveys[surveyName];var dimensions={};var categories={};survey.questions.forEach(function(question){var d=survey.dimensions[question.dimension];var c=survey.categories?survey.categories[question.category]:null;var a=question.answerValue||2;if(d)dimensions[d]=dimensions[d]?dimensions[d]+a:a;if(c)categories[c]=categories[c]?categories[c]+a:a});for(d in dimensions){console.log("[Scores:dimension] (%s) %s: %s",surveyName,d,dimensions[d])}for(c in categories){console.log("[Scores:category] (%s) %s: %s",surveyName,c,categories[c])}scores[surveyName]={dimensions:dimensions,categories:categories}}}return scores};module.exports.getProfile=function(scores){console.info("Get Profile");var profile={};for(surveyName in scores){if(surveyKey[surveyName]){data=[];surveyKey[surveyName].forEach(function(dimension){var value;var missing;if(dimension.total){value=scores[surveyName].dimensions[dimension.title];missing=!!!value}else{missing=!!!scores[surveyName].categories[dimension.title];value=scores[surveyName].categories[dimension.title]>dimension.threshold?dimension.options[1]:dimension.options[0]}if(missing){console.error("[Undefined value] "+dimension.title);value=dimension.total?0:dimension.options[0]}console.log("[Profile] (%s) %s: %s",surveyName,dimension.title,value);data.push(value)});profile[surveyName]=data}}return profile};module.exports.encodeProfile=function(profile){var encoded=packResults(profile);console.log("[Encoded Profile]",encoded,packResults(unpackResults(encoded))===encoded);return encoded};module.exports.decodeProfile=function(profile){console.info("Decoding Profile");var unpacked=unpackResults(profile);var friendly={};friendly.gamerTypeKey="";for(surveyName in unpacked){if(surveyKey[surveyName]){friendly[surveyName]={};surveyKey[surveyName].forEach(function(dimension,idx){var value=unpacked[surveyName][idx];if(normalize[surveyName]){value=normalize[surveyName](dimension.title,value)}friendly[surveyName][dimension.title]=value;if(surveyName==="gamerType")friendly.gamerTypeKey+=value;console.log("[Decode] (%s) %s: %s",surveyName,dimension.title,value)})}}return friendly}},{"./packer":49,"./surveyKey":53}],51:[function(require,module,exports){var raf=require("raf");var eventListener=require("eventListener");var EventEmitter=require("events").EventEmitter;var CHANGE="change";var ticking=false;var width=Infinity;var height=Infinity;var resize=new EventEmitter;function update(){resize.emit("change",width,height);ticking=false}function requestTick(){if(!ticking){raf(update);ticking=true}}function onResize(){getWindowSize();requestTick()}function getWindowSize(){var w=window,d=document,e=d.documentElement,g=d.getElementsByTagName("body")[0];width=w.innerWidth||e.clientWidth||g.clientWidth,height=w.innerHeight||e.clientHeight||g.clientHeight}eventListener.add(window,"resize",onResize);getWindowSize();module.exports.getWidth=function(){return width};module.exports.getHeight=function(){return height};module.exports.onChange=function(fn){resize.on(CHANGE,fn)};module.exports.offChange=function(fn){resize.removeListener(CHANGE,fn)}},{eventListener:62,events:59,raf:68}],52:[function(require,module,exports){var raf=require("raf");function smoothStep(start,end,point){if(point<=start){return 0}if(point>=end){return 1}var x=(point-start)/(end-start);return x*x*(3-2*x)}module.exports=function scrollTo(target,duration,cb){cb=cb||function(){};target=Math.round(target);duration=Math.round(duration);var element=document.body;var start_time=Date.now();var end_time=start_time+duration;var start_top=element.scrollTop;var distance=target-start_top;var previous_top=element.scrollTop;var ticking=false;var timer;function update(){ticking=false}function requestTick(){if(!ticking){raf(update);ticking=true}}function complete(){if(timer)clearInterval(timer);cb()}function update(){if(element.scrollTop!==previous_top)return cb();var now=Date.now();var point=smoothStep(start_time,end_time,now);var frameTop=Math.round(start_top+distance*point);element.scrollTop=frameTop;if(now>=end_time)return cb();if(element.scrollTop===previous_top&&element.scrollTop!==frameTop){return cb()}previous_top=element.scrollTop;ticking=false}requestTick();timer=setInterval(requestTick,10)}},{raf:68}],53:[function(require,module,exports){module.exports={personality:[{title:"Openness",key:"O",total:100},{title:"Conscientiousness",key:"C",total:100},{title:"Extraversion",key:"E",total:100},{title:"Agreeableness",total:100,key:"A"},{title:"Emotional Stability",key:"S",total:100}],brainType:[{title:"Empathizing",key:"E",total:100},{title:"Systemizing",key:"S",total:100}],gamerType:[{title:"Achievement",options:["G","X"],threshold:35},{title:"Social",options:["M","S"],threshold:26},{title:"Immersion",options:["F","Y"],threshold:35},{title:"Arousal",options:["E","R"],threshold:8}]}},{}],54:[function(require,module,exports){var mode=!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0?"touch":"mouse";module.exports=function touchDown(fn,fn2){if(fn2){return mode==="touch"?{onTouchStart:fn,onTouchStart:fn2}:{onMouseDown:fn,onMouseUp:fn2}}return mode==="touch"?{onTouchStart:fn}:{onMouseDown:fn}}},{}],55:[function(require,module,exports){var AppDispatcher=require("../dispatcher/AppDispatcher");var Constants=require("./constants");var surveyActions;module.exports=surveyActions={createSurveys:function(surveys){AppDispatcher.dispatch({actionType:Constants.SURVEY_INIT,surveys:surveys})},answerQuestion:function(id,questionIdx,answer){AppDispatcher.dispatch({actionType:Constants.SURVEY_UPDATE,surveyId:id,question:questionIdx,answer:answer})}}},{"../dispatcher/AppDispatcher":38,"./constants":56}],56:[function(require,module,exports){var keyMirror=require("keymirror");module.exports=keyMirror({SURVEY_INIT:null,SURVEY_UPDATE:null})},{keymirror:66}],57:[function(require,module,exports){var AppDispatcher=require("../dispatcher/AppDispatcher");var EventEmitter=require("events").EventEmitter;var Constants=require("./constants");var assign=require("object-assign");var CHANGE_EVENT="change";var inputStore=require("../input/store");var profileSvc=require("../services/profile");var _surveys={};function answerQuestion(id,qIdx,answer){var survey=_surveys[id];var question=survey.questions[qIdx];var scale=question.inverted?survey.scaleValues.slice().reverse():survey.scaleValues;survey.lastAnswerd=qIdx;question.answer=answer;question.answerValue=scale[survey.scale.indexOf(answer)];if(qIdx===survey.questions.length-1){survey.complete=true}console.log("[%s] %s {%s: %s}",id,question.text,answer,question.answerValue)}var InputStore=assign({},EventEmitter.prototype,{getSurvey:function(id){return _surveys[id]},isComplete:function(id){return!!_surveys[id].complete},getQuestion:function(id,qIdx){var survey=_surveys[id];var question=survey.questions[qIdx];return assign({choices:survey.scale},question)},getScores:function(){return profileSvc.getScores(_surveys)},getProfile:function(){return profileSvc.getProfile(profileSvc.getScores(_surveys))},getProfileHash:function(){return profileSvc.encodeProfile(profileSvc.getProfile(profileSvc.getScores(_surveys)))},decodeProfile:function(encoded){return profileSvc.decodeProfile(encoded)},getFormData:function(){console.info("Get Form Data");var form={};for(surveyName in _surveys){var survey=_surveys[surveyName];var id=survey.id;survey.questions.forEach(function(question,idx){var qId=(question.surveyId||id)+idx;form[qId]=question.answer;console.log("[Form Data] %s: %s",qId,question.answer)})}return form},getPlainFormData:function(){var data={surveys:[]};data.surveys.push({title:"Identity",form:inputStore.getForm("identity")});data.surveys.push({title:"Consent",form:inputStore.getForm("consent")});["brainType","personality","gamerType"].forEach(function(key){data.surveys.push({title:_surveys[key].title,statements:_surveys[key].questions.map(function(q){return{statement:q.text,response:q.answer||null}})})});return data},getLength:function(id){return _surveys[id].questions.length},emitChange:function(){this.emit(CHANGE_EVENT)},addChangeListener:function(callback){this.on(CHANGE_EVENT,callback)},removeChangeListener:function(callback){this.removeListener(CHANGE_EVENT,callback)}});InputStore.setMaxListeners(0);AppDispatcher.register(function(action){switch(action.actionType){case Constants.SURVEY_INIT:_surveys=action.surveys;InputStore.emitChange();break;case Constants.SURVEY_UPDATE:answerQuestion(action.surveyId,action.question,action.answer);InputStore.emit(action.surveyId);break;default:}});module.exports=InputStore},{"../dispatcher/AppDispatcher":38,"../input/store":42,"../services/profile":50,"./constants":56,events:59,"object-assign":67}],58:[function(require,module,exports){var required=["gender","birth_month","birth_year","country","english_lvl"];var prefixes=["BF4","BFHD","LOL","WOW"];var preRE=/^([^\_]+)/;module.exports=function getFormErrors(form){var grouped={};for(var k in form){if(form.hasOwnProperty(k)){var pre=k.match(preRE)[1];grouped[pre]=grouped[pre]||[];grouped[pre].push(form[k])}}return{invalidGamerProfiles:prefixes.filter(function(game){var missing=grouped[game].filter(function(v){return!v}).length;return missing>0}),invalidFields:required.filter(function(field){return!form[field]})};return false}},{}],59:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}throw TypeError('Uncaught, unspecified "error" event.')}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];handler.apply(this,args)}}else if(isObject(handler)){len=arguments.length;args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){var m;if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-->0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else{while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){
var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.listenerCount=function(emitter,type){var ret;if(!emitter._events||!emitter._events[type])ret=0;else if(isFunction(emitter._events[type]))ret=1;else ret=emitter._events[type].length;return ret};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],60:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){currentQueue[queueIndex].run()}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],61:[function(require,module,exports){(function(){"use strict";function classNames(){var classes="";for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if("string"===argType||"number"===argType){classes+=" "+arg}else if(Array.isArray(arg)){classes+=" "+classNames.apply(null,arg)}else if("object"===argType){for(var key in arg){if(arg.hasOwnProperty(key)&&arg[key]){classes+=" "+key}}}}return classes.substr(1)}if(typeof module!=="undefined"&&module.exports){module.exports=classNames}else if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define(function(){return classNames})}else{window.classNames=classNames}})()},{}],62:[function(require,module,exports){(function(root,factory){if(typeof define==="function"&&define.amd){define(factory)}else if(typeof exports==="object"){module.exports=factory()}else{root.eventListener=factory()}})(this,function(){function wrap(standard,fallback){return function(el,evtName,listener,useCapture){if(el[standard]){el[standard](evtName,listener,useCapture)}else if(el[fallback]){el[fallback]("on"+evtName,listener)}}}return{add:wrap("addEventListener","attachEvent"),remove:wrap("removeEventListener","detachEvent")}})},{}],63:[function(require,module,exports){module.exports.Dispatcher=require("./lib/Dispatcher")},{"./lib/Dispatcher":64}],64:[function(require,module,exports){"use strict";var invariant=require("./invariant");var _lastID=1;var _prefix="ID_";function Dispatcher(){this.$Dispatcher_callbacks={};this.$Dispatcher_isPending={};this.$Dispatcher_isHandled={};this.$Dispatcher_isDispatching=false;this.$Dispatcher_pendingPayload=null}Dispatcher.prototype.register=function(callback){var id=_prefix+_lastID++;this.$Dispatcher_callbacks[id]=callback;return id};Dispatcher.prototype.unregister=function(id){invariant(this.$Dispatcher_callbacks[id],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",id);delete this.$Dispatcher_callbacks[id]};Dispatcher.prototype.waitFor=function(ids){invariant(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var ii=0;ii<ids.length;ii++){var id=ids[ii];if(this.$Dispatcher_isPending[id]){invariant(this.$Dispatcher_isHandled[id],"Dispatcher.waitFor(...): Circular dependency detected while "+"waiting for `%s`.",id);continue}invariant(this.$Dispatcher_callbacks[id],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",id);this.$Dispatcher_invokeCallback(id)}};Dispatcher.prototype.dispatch=function(payload){invariant(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.");this.$Dispatcher_startDispatching(payload);try{for(var id in this.$Dispatcher_callbacks){if(this.$Dispatcher_isPending[id]){continue}this.$Dispatcher_invokeCallback(id)}}finally{this.$Dispatcher_stopDispatching()}};Dispatcher.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching};Dispatcher.prototype.$Dispatcher_invokeCallback=function(id){this.$Dispatcher_isPending[id]=true;this.$Dispatcher_callbacks[id](this.$Dispatcher_pendingPayload);this.$Dispatcher_isHandled[id]=true};Dispatcher.prototype.$Dispatcher_startDispatching=function(payload){for(var id in this.$Dispatcher_callbacks){this.$Dispatcher_isPending[id]=false;this.$Dispatcher_isHandled[id]=false}this.$Dispatcher_pendingPayload=payload;this.$Dispatcher_isDispatching=true};Dispatcher.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null;this.$Dispatcher_isDispatching=false};module.exports=Dispatcher},{"./invariant":65}],65:[function(require,module,exports){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(false){if(format===undefined){throw new Error("invariant requires an error message argument")}}if(!condition){var error;if(format===undefined){error=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var args=[a,b,c,d,e,f];var argIndex=0;error=new Error("Invariant Violation: "+format.replace(/%s/g,function(){return args[argIndex++]}))}error.framesToPop=1;throw error}};module.exports=invariant},{}],66:[function(require,module,exports){"use strict";var keyMirror=function(obj){var ret={};var key;if(!(obj instanceof Object&&!Array.isArray(obj))){throw new Error("keyMirror(...): Argument must be an object.")}for(key in obj){if(!obj.hasOwnProperty(key)){continue}ret[key]=key}return ret};module.exports=keyMirror},{}],67:[function(require,module,exports){"use strict";function ToObject(val){if(val==null){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}module.exports=Object.assign||function(target,source){var from;var keys;var to=ToObject(target);for(var s=1;s<arguments.length;s++){from=arguments[s];keys=Object.keys(Object(from));for(var i=0;i<keys.length;i++){to[keys[i]]=from[keys[i]]}}return to}},{}],68:[function(require,module,exports){var now=require("performance-now"),global=typeof window==="undefined"?{}:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=global["request"+suffix],caf=global["cancel"+suffix]||global["cancelRequest"+suffix];for(var i=0;i<vendors.length&&!raf;i++){raf=global[vendors[i]+"Request"+suffix];caf=global[vendors[i]+"Cancel"+suffix]||global[vendors[i]+"CancelRequest"+suffix]}if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(callback){if(queue.length===0){var _now=now(),next=Math.max(0,frameDuration-(_now-last));last=next+_now;setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++){if(!cp[i].cancelled){try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}}}},Math.round(next))}queue.push({handle:++id,callback:callback,cancelled:false});return id};caf=function(handle){for(var i=0;i<queue.length;i++){if(queue[i].handle===handle){queue[i].cancelled=true}}}}module.exports=function(fn){return raf.call(global,fn)};module.exports.cancel=function(){caf.apply(global,arguments)}},{"performance-now":69}],69:[function(require,module,exports){(function(process){(function(){var getNanoSeconds,hrtime,loadTime;if(typeof performance!=="undefined"&&performance!==null&&performance.now){module.exports=function(){return performance.now()}}else if(typeof process!=="undefined"&&process!==null&&process.hrtime){module.exports=function(){return(getNanoSeconds()-loadTime)/1e6};hrtime=process.hrtime;getNanoSeconds=function(){var hr;hr=hrtime();return hr[0]*1e9+hr[1]};loadTime=getNanoSeconds()}else if(Date.now){module.exports=function(){return Date.now()-loadTime};loadTime=Date.now()}else{module.exports=function(){return(new Date).getTime()-loadTime};loadTime=(new Date).getTime()}}).call(this)}).call(this,require("_process"))},{_process:60}],70:[function(require,module,exports){var Emitter=require("emitter");var reduce=require("reduce");var root="undefined"==typeof window?this||self:window;function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return true;default:return false}}request.getXHR=function(){if(root.XMLHttpRequest&&(!root.location||"file:"!=root.location.protocol||!root.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}return false};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};function isObject(obj){return obj===Object(obj)}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj){if(null!=obj[key]){pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(obj[key]))}}return pairs.join("&")}request.serializeObject=serialize;function parseString(str){var obj={};var pairs=str.split("&");var parts;var pair;for(var i=0,len=pairs.length;i<len;++i){pair=pairs[i];parts=pair.split("=");obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1])}return obj}request.parseString=parseString;request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify};request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse};function parseHeader(str){var lines=str.split(/\r?\n/);var fields={};var index;var line;var field;var val;lines.pop();for(var i=0,len=lines.length;i<len;++i){line=lines[i];index=line.indexOf(":");field=line.slice(0,index).toLowerCase();val=trim(line.slice(index+1));fields[field]=val}return fields}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();if(key&&val)obj[key]=val;return obj},{})}function Response(req,options){options=options||{};this.req=req;this.xhr=this.req.xhr;this.text=this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType==="undefined"?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;this.setStatusProperties(this.xhr.status);this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body=this.req.method!="HEAD"?this.parseBody(this.text?this.text:this.xhr.response):null}Response.prototype.get=function(field){return this.header[field.toLowerCase()]};Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]};Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return parse&&str&&(str.length||str instanceof Object)?parse(str):null};Response.prototype.setStatusProperties=function(status){if(status===1223){status=204}var type=status/100|0;this.status=status;this.statusType=type;this.info=1==type;this.ok=2==type;this.clientError=4==type;this.serverError=5==type;this.error=4==type||5==type?this.toError():false;this.accepted=202==status;this.noContent=204==status;this.badRequest=400==status;this.unauthorized=401==status;this.notAcceptable=406==status;this.notFound=404==status;this.forbidden=403==status};Response.prototype.toError=function(){var req=this.req;var method=req.method;var url=req.url;var msg="cannot "+method+" "+url+" ("+this.status+")";var err=new Error(msg);err.status=this.status;err.method=method;err.url=url;return err};request.Response=Response;function Request(method,url){var self=this;Emitter.call(this);this._query=this._query||[];this.method=method;this.url=url;this.header={};this._header={};this.on("end",function(){var err=null;var res=null;try{res=new Response(self)}catch(e){err=new Error("Parser is unable to parse the response");err.parse=true;err.original=e;return self.callback(err)}self.emit("response",res);if(err){return self.callback(err,res)}if(res.status>=200&&res.status<300){return self.callback(err,res)}var new_err=new Error(res.statusText||"Unsuccessful HTTP response");new_err.original=err;new_err.response=res;new_err.status=res.status;self.callback(err||new_err,res)})}Emitter(Request.prototype);Request.prototype.use=function(fn){fn(this);return this};Request.prototype.timeout=function(ms){this._timeout=ms;return this};Request.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};Request.prototype.abort=function(){if(this.aborted)return;this.aborted=true;this.xhr.abort();this.clearTimeout();this.emit("abort");return this};Request.prototype.set=function(field,val){if(isObject(field)){for(var key in field){this.set(key,field[key])}return this}this._header[field.toLowerCase()]=val;this.header[field]=val;return this};Request.prototype.unset=function(field){delete this._header[field.toLowerCase()];delete this.header[field];return this};Request.prototype.getHeader=function(field){return this._header[field.toLowerCase()]};Request.prototype.type=function(type){this.set("Content-Type",request.types[type]||type);return this};Request.prototype.accept=function(type){this.set("Accept",request.types[type]||type);return this};Request.prototype.auth=function(user,pass){var str=btoa(user+":"+pass);this.set("Authorization","Basic "+str);return this};Request.prototype.query=function(val){if("string"!=typeof val)val=serialize(val);if(val)this._query.push(val);return this};Request.prototype.field=function(name,val){if(!this._formData)this._formData=new root.FormData;this._formData.append(name,val);return this};Request.prototype.attach=function(field,file,filename){if(!this._formData)this._formData=new root.FormData;this._formData.append(field,file,filename);return this};Request.prototype.send=function(data){var obj=isObject(data);var type=this.getHeader("Content-Type");if(obj&&isObject(this._data)){for(var key in data){this._data[key]=data[key]}}else if("string"==typeof data){if(!type)this.type("form");type=this.getHeader("Content-Type");if("application/x-www-form-urlencoded"==type){this._data=this._data?this._data+"&"+data:data}else{this._data=(this._data||"")+data}}else{this._data=data}if(!obj||isHost(data))return this;if(!type)this.type("json");return this};Request.prototype.callback=function(err,res){var fn=this._callback;this.clearTimeout();fn(err,res)};Request.prototype.crossDomainError=function(){var err=new Error("Origin is not allowed by Access-Control-Allow-Origin");err.crossDomain=true;this.callback(err)};Request.prototype.timeoutError=function(){var timeout=this._timeout;var err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout;this.callback(err)};Request.prototype.withCredentials=function(){this._withCredentials=true;return this};Request.prototype.end=function(fn){var self=this;var xhr=this.xhr=request.getXHR();var query=this._query.join("&");var timeout=this._timeout;var data=this._formData||this._data;this._callback=fn||noop;xhr.onreadystatechange=function(){if(4!=xhr.readyState)return;var status;try{status=xhr.status}catch(e){status=0}if(0==status){if(self.timedout)return self.timeoutError();if(self.aborted)return;return self.crossDomainError()}self.emit("end")};var handleProgress=function(e){if(e.total>0){e.percent=e.loaded/e.total*100}self.emit("progress",e)};if(this.hasListeners("progress")){xhr.onprogress=handleProgress}try{if(xhr.upload&&this.hasListeners("progress")){xhr.upload.onprogress=handleProgress}}catch(e){}if(timeout&&!this._timer){this._timer=setTimeout(function(){self.timedout=true;self.abort()},timeout)}if(query){query=request.serializeObject(query);this.url+=~this.url.indexOf("?")?"&"+query:"?"+query}xhr.open(this.method,this.url,true);if(this._withCredentials)xhr.withCredentials=true;if("GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var serialize=request.serialize[this.getHeader("Content-Type")];if(serialize)data=serialize(data)}for(var field in this.header){if(null==this.header[field])continue;xhr.setRequestHeader(field,this.header[field])}this.emit("request",this);xhr.send(data);return this};request.Request=Request;function request(method,url){if("function"==typeof url){return new Request("GET",method).end(url)}if(1==arguments.length){return new Request("GET",method)}return new Request(method,url)}request.get=function(url,data,fn){var req=request("GET",url);if("function"==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req};request.head=function(url,data,fn){var req=request("HEAD",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.del=function(url,fn){var req=request("DELETE",url);if(fn)req.end(fn);return req};request.patch=function(url,data,fn){var req=request("PATCH",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.post=function(url,data,fn){var req=request("POST",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.put=function(url,data,fn){var req=request("PUT",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};module.exports=request},{emitter:71,reduce:72}],71:[function(require,module,exports){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks[event]=this._callbacks[event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){var self=this;this._callbacks=this._callbacks||{};function on(){self.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks[event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks[event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],72:[function(require,module,exports){module.exports=function(arr,fn,initial){var idx=0;var len=arr.length;var curr=arguments.length==3?initial:arr[idx++];while(idx<len){curr=fn.call(null,curr,arr[idx],++idx,arr)}return curr}},{}]},{},[39]);